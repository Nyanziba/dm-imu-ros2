dm_imu:
  ros__parameters:
    port: /dev/tty.usbmodemDMIMU202502121
    baudrate: 921600
    frame_id: imu_link

    # 三个话题的发布开关
    publish_imu_data: true   # 关掉就设 false
    publish_rpy: true
    publish_pose: true

    # RPY 的单位（true=度，false=弧度）
    publish_rpy_in_degree: true
    publish_rate_hz: 1000.0

    # 其他
    qos_reliable: true      # 或 true，按你需求
    verbose: true

    # デバッグ（必要時のみ true）
    debug_raw: true
    debug_raw_max_bytes: 64

    # Unit conversion + covariance
    # v1.0 observed stream is already SI-like (gyro:rad/s, accel:m/s^2)
    gyro_in_degree: false
    accel_in_g: false
    orientation_covariance: 0.02
    angular_velocity_covariance: 0.02
    linear_acceleration_covariance: 0.02

    # USB quick commands (see DM-IMU-L1 manual)
    usb_configure: false
    usb_protocol_version: v1_0
    usb_output_rate_hz: 1000.0
    usb_enable_accel: true
    usb_enable_gyro: true
    usb_enable_rpy: true
    usb_enable_quat_cmd: true
    usb_force_output_interface: false
    usb_output_interface: 0
    usb_factory_reset_on_start: false
    usb_factory_reset_wait_ms: 1200
    usb_save_params: true
    usb_config_sleep_ms: 50

    # Data type IDs (factory default in DM-IMU-L1 manual: accel=0x01, gyro=0x02, rpy=0x03, quat=0x04)
    data_type_accel: 1
    data_type_gyro: 2
    data_type_rpy: 3
    data_type_quat: 4
    warn_unknown_data_type: true
